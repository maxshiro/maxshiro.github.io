<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>MAXshiro • Posts by &#34;mariadb&#34; tag</title>
        <link>http://maxshiroi.top</link>
        <description>Discover and Record the world.</description>
        <language>zh-CN</language>
        <pubDate>Tue, 23 May 2023 11:21:40 +0800</pubDate>
        <lastBuildDate>Tue, 23 May 2023 11:21:40 +0800</lastBuildDate>
        <category>ctf</category>
        <category>buuctf</category>
        <category>antsword</category>
        <category>nextcloud</category>
        <category>聊天室</category>
        <category>python</category>
        <category>linux</category>
        <category>centos</category>
        <category>web</category>
        <category>nginx</category>
        <category>mysql</category>
        <category>wsa</category>
        <category>vhd</category>
        <category>vhdx</category>
        <category>diskpart</category>
        <category>security</category>
        <category>webshell</category>
        <category>arch</category>
        <category>pacman</category>
        <category>network</category>
        <category>vmware</category>
        <category>win</category>
        <category>explorer.exe</category>
        <category>autorefresh</category>
        <category>docker</category>
        <category>nessus</category>
        <category>awvs</category>
        <category>kali</category>
        <category>dvwa</category>
        <category>fedora</category>
        <category>hexo</category>
        <category>guide</category>
        <category>hvv</category>
        <category>plugin</category>
        <category>backup</category>
        <category>java</category>
        <category>filestream</category>
        <category>media center</category>
        <category>plex</category>
        <category>emby</category>
        <category>jellyfin</category>
        <category>视频</category>
        <category>音乐</category>
        <category>应急响应</category>
        <category>tools</category>
        <category>busybox</category>
        <category>ps</category>
        <category>passwd</category>
        <category>运维</category>
        <category>smb</category>
        <category>NPM</category>
        <category>switch</category>
        <category>animal crossing</category>
        <category>Project Diva</category>
        <category>Miku</category>
        <category>Mega39</category>
        <category>emulater</category>
        <category>yuzu</category>
        <category>ryujinx</category>
        <category>树莓派</category>
        <category>openwrt</category>
        <category>router</category>
        <category>pic</category>
        <category>img</category>
        <category>api</category>
        <category>random</category>
        <category>wallpaper</category>
        <category>Vocal</category>
        <category>AI</category>
        <category>歌声合成</category>
        <category>transmission</category>
        <category>torrent</category>
        <category>下载器</category>
        <category>nas</category>
        <category>ubuntu</category>
        <category>mariadb</category>
        <category>bug</category>
        <category>win7</category>
        <category>capacity</category>
        <category>shrink</category>
        <category>windows</category>
        <category>qq</category>
        <category>sandbox</category>
        <category>tencent</category>
        <category>Android</category>
        <category>Hyper-V</category>
        <category>WSA</category>
        <category>wsl2</category>
        <category>Hyper-v</category>
        <category>wsl</category>
        <category>权限不足</category>
        <category>vscode</category>
        <item>
            <guid isPermalink="true">http://maxshiroi.top/linux/ubuntu/112140/</guid>
            <title>在MariaDB中设置主从复制</title>
            <link>http://maxshiroi.top/linux/ubuntu/112140/</link>
            <category>linux</category>
            <category>ubuntu</category>
            <category>mariadb</category>
            <pubDate>Tue, 23 May 2023 11:21:40 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;本文将介绍如何在 MariaDB 中设置主从复制。主从复制是一种数据库复制技术，其中一个数据库服务器（称为 “主服务器”）将其更改传递给一个或多个其他数据库服务器（称为 “从服务器”）。主从复制可用于实现高可用性、负载均衡和数据备份等目的。&lt;/p&gt;
&lt;h1 id=&#34;步骤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#步骤&#34;&gt;#&lt;/a&gt; 步骤&lt;/h1&gt;
&lt;h2 id=&#34;主机&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#主机&#34;&gt;#&lt;/a&gt; 主机&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;使用以下命令登录到 MariaDB：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;mysql -uroot -p&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建一个新的数据库并在其中创建一个新的表：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;create database db1;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use db1;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;create table test1(id int,name char);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;退出 MariaDB 并停止 MariaDB 服务器：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;exit;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl stop mariadb&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用编辑器打开 MariaDB 的配置文件。在 CentOS 中，配置文件位于  &lt;code&gt;/etc/my.cnf&lt;/code&gt; ，而在 Ubuntu 中，配置文件位于  &lt;code&gt;/etc/mysql/mariadb.conf.d/50-server.cnf&lt;/code&gt; 。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/my.cnf   &lt;span class=&#34;comment&#34;&gt;# CentOS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/mysql/mariadb.conf.d/50-server.cnf   &lt;span class=&#34;comment&#34;&gt;# Ubuntu&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在配置文件中添加以下内容：&lt;/p&gt;
&lt;figure class=&#34;highlight vim&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[mysqld]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;log&lt;/span&gt;-bin=/var/&lt;span class=&#34;built_in&#34;&gt;log&lt;/span&gt;/mysql/mysql-bin.&lt;span class=&#34;built_in&#34;&gt;log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server-id=&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;binlog-&lt;span class=&#34;keyword&#34;&gt;do&lt;/span&gt;-db=db1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;bind-address=&lt;span class=&#34;number&#34;&gt;0.0&lt;/span&gt;.&lt;span class=&#34;number&#34;&gt;0.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述配置文件中的关键配置包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;log-bin&lt;/code&gt; ：指定二进制日志文件的路径和名称。二进制日志文件包含主服务器上进行的所有更改。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;server-id&lt;/code&gt; ：指定主服务器的唯一标识符。每个服务器必须具有唯一的标识符。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;binlog-do-db&lt;/code&gt; ：指定要在二进制日志中记录更改的数据库名称。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bind-address&lt;/code&gt; ：指定要在哪个 IP 地址上监听连接请求。在本例中，我们将其设置为  &lt;code&gt;0.0.0.0&lt;/code&gt; ，以允许从任何 IP 地址连接到主服务器。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;创建日志文件目录并将其所有权分配给 MySQL 用户：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; /var/log/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;mkdir&lt;/span&gt; mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; mysql/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;touch&lt;/span&gt; mysql-bin.log&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; ../&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;chown&lt;/span&gt; -R mysql:mysql ./mysql/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;ls&lt;/span&gt; -ld /var/log/mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;ls&lt;/span&gt; -ld /var/log/mysql/mysql-bin.log&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述命令将创建一个名为  &lt;code&gt;mysql-bin.log&lt;/code&gt;  的空日志文件，并将其所有权分配给 MySQL 用户。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动 MariaDB 服务器并重新登录到 MariaDB：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl start mariadb&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysql -uroot -p&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;授予从服务器复制权限：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;grant replication slave on *.* to slave@&#39;%&#39; identified by &#39;123456&#39;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;exit;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述命令将创建一个名为  &lt;code&gt;slave&lt;/code&gt;  的用户，并为其授予复制权限。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成当前数据库的备份：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart mariadb&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysqldump -uroot -p -A &amp;gt; all1.sql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;scp all1.sql 10.1.0.16:/root&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述命令将在本地生成一个名为  &lt;code&gt;all1.sql&lt;/code&gt;  的数据库备份，并将其复制到远程服务器  &lt;code&gt;10.1.0.16&lt;/code&gt;  的  &lt;code&gt;/root&lt;/code&gt;  目录中。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;从机&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#从机&#34;&gt;#&lt;/a&gt; 从机&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;使用以下命令登录到从服务器：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;mysql -h 10.1.0.20 -uslave -p123456&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;exit&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将备份文件还原到从服务器中的 MariaDB：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; /root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysql -uroot -p &amp;lt; all1.sql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysql -uroot -p&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确认已成功复制数据库：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;show databases;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;exit;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;停止从服务器上的 MariaDB 并编辑其配置文件：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl stop mariadb&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/my.cnf   &lt;span class=&#34;comment&#34;&gt;# CentOS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vi /etc/mysql/mariadb.conf.d/50-server.cnf   &lt;span class=&#34;comment&#34;&gt;# Ubuntu&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在配置文件中添加以下内容：&lt;/p&gt;
&lt;figure class=&#34;highlight vim&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[mysqld]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server-id=&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述配置文件中的关键配置是  &lt;code&gt;server-id&lt;/code&gt; ，它指定从服务器的唯一标识符。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动从服务器上的 MariaDB：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl start mariadb&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysql -uroot -p123456&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在从服务器上配置主从复制：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;change master to master_host=&#39;10.1.0.20&#39;,master_user=&#39;slave&#39;,master_password=&#39;123456&#39;,master_port=3306,master_log_file=&#39;mysql-bin.000003&#39;,master_log_pos=328,master_connect_retry=10;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;startslave;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;show slave status \G;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;上述命令将从服务器配置为将来自主服务器的更改复制到本地 MariaDB 上。 &lt;code&gt;change master to&lt;/code&gt;  命令中的参数包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;master_host&lt;/code&gt; ：指定主服务器的 IP 地址或主机名。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;master_user&lt;/code&gt; ：指定用于连接到主服务器的用户名。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;master_password&lt;/code&gt; ：指定用于连接到主服务器的密码。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;master_port&lt;/code&gt; ：指定主服务器的端口号。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;master_log_file&lt;/code&gt; ：指定主服务器当前正在使用的二进制日志文件的名称。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;master_log_pos&lt;/code&gt; ：指定主服务器当前正在使用的二进制日志文件中的位置。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;master_connect_retry&lt;/code&gt; ：指定从服务器在与主服务器断开连接后尝试重新连接的次数。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;``start slave; &lt;code&gt; 命令将从服务器上的复制进程启动。&lt;/code&gt; show slave status \G;` 命令将显示有关从服务器上的复制进程的详细信息。&lt;/p&gt;
&lt;p&gt;至此，主从复制已经设置完成。主服务器上的更改将自动传播到从服务器上。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
 ]]></description>
        </item>
    </channel>
</rss>
