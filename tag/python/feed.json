{
    "version": "https://jsonfeed.org/version/1",
    "title": "MAXshiro • All posts by \"python\" tag",
    "description": "Discover and Record the world.",
    "home_page_url": "http://maxshiroi.top",
    "items": [
        {
            "id": "http://maxshiroi.top/ug/212907/",
            "url": "http://maxshiroi.top/ug/212907/",
            "title": "Centos安装MatrixSynapseChat简易教程",
            "date_published": "2022-08-28T13:29:07.000Z",
            "content_html": "<h2 id=\"先安装前置\"><a class=\"anchor\" href=\"#先安装前置\">#</a> 先安装前置</h2>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libtiff-devel libjpeg-devel libzip-devel freetype-devel libwebp-devel libxml2-devel libxslt-devel libpq-devel python3-virtualenv libffi-devel openssl-devel python3-devel</span><br><span class=\"line\">yum groupinstall <span class=\"string\">\"Development Tools\"</span></span><br></pre></td></tr></tbody></table></figure>\n<h2 id=\"使用root账户接入您的centos找到合适的位置开始操作\"><a class=\"anchor\" href=\"#使用root账户接入您的centos找到合适的位置开始操作\">#</a> 使用 root 账户接入您的 centos，找到合适的位置开始操作</h2>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> syn</span><br></pre></td></tr></tbody></table></figure>\n<h3 id=\"依次执行以下指令\"><a class=\"anchor\" href=\"#依次执行以下指令\">#</a> 依次执行以下指令</h3>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">virtualenv -p python3 ./env &amp;&amp; <span class=\"built_in\">source</span> ./env/bin/activate</span><br><span class=\"line\">python3 -m pip install --upgrade pip &amp;&amp; python3 -m pip install --upgrade setuptools &amp;&amp; python3 -m pip install psycopg2-binary</span><br><span class=\"line\">python3 -m pip install matrix-synapse                         //安装synapse</span><br><span class=\"line\">python3 -m pip install -U matrix-synapse                    //更新synapse</span><br></pre></td></tr></tbody></table></figure>\n<h2 id=\"将下列指令拷贝到控制台执行自动生成homeserveryaml\"><a class=\"anchor\" href=\"#将下列指令拷贝到控制台执行自动生成homeserveryaml\">#</a> 将下列指令拷贝到控制台执行，自动生成 homeserver.yaml</h2>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -m synapse.app.homeserver \\</span><br><span class=\"line\">    --server-name im.axro.top \\</span><br><span class=\"line\">    --config-path homeserver.yaml \\</span><br><span class=\"line\">    --generate-config \\</span><br><span class=\"line\">    --report-stats=no</span><br></pre></td></tr></tbody></table></figure>\n<h2 id=\"编辑生成homeserveryaml\"><a class=\"anchor\" href=\"#编辑生成homeserveryaml\">#</a> 编辑生成 <code>homeserver.yaml</code></h2>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">enable_registration: <span class=\"literal\">true</span></span><br><span class=\"line\">suppress_key_server_warning: <span class=\"literal\">true</span></span><br><span class=\"line\">bind_addresses: [<span class=\"string\">'::1'</span>, <span class=\"string\">'0.0.0.0'</span>]</span><br></pre></td></tr></tbody></table></figure>\n<h2 id=\"启动关闭服务器\"><a class=\"anchor\" href=\"#启动关闭服务器\">#</a> 启动 / 关闭服务器</h2>\n<h4 id=\"注意要先进入虚拟python环境\"><a class=\"anchor\" href=\"#注意要先进入虚拟python环境\">#</a> 注意要先进入虚拟 python 环境</h4>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">source</span> ./env/bin/activate</span><br><span class=\"line\"></span><br><span class=\"line\">synctl start</span><br><span class=\"line\">synctl stop</span><br></pre></td></tr></tbody></table></figure>\n<h2 id=\"退出虚拟环境\"><a class=\"anchor\" href=\"#退出虚拟环境\">#</a> 退出虚拟环境</h2>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">deactivate</span><br></pre></td></tr></tbody></table></figure>\n<h2 id=\"配置反代\"><a class=\"anchor\" href=\"#配置反代\">#</a> 配置反代</h2>\n<p>进入宝塔面板新建静态网站，配置 ssl，配置反向代理地址为 <code>https://localhost:8008</code> , 保存即可.</p>\n",
            "tags": [
                "nextcloud",
                "聊天室",
                "python"
            ]
        }
    ]
}