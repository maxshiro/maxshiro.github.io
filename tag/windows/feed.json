{
    "version": "https://jsonfeed.org/version/1",
    "title": "MAXshiro • All posts by \"windows\" tag",
    "description": "Discover and Record the world.",
    "home_page_url": "http://maxshiroi.top",
    "items": [
        {
            "id": "http://maxshiroi.top/Windwos/103802/",
            "url": "http://maxshiroi.top/Windwos/103802/",
            "title": "使用Windows内置的沙盒功能来隔离常见的国产软件",
            "date_published": "2023-07-25T02:38:02.000Z",
            "content_html": "<h1 id=\"使用本项目的目的\"><a class=\"anchor\" href=\"#使用本项目的目的\">#</a> 使用本项目的目的</h1>\n<p>腾讯系的软件众所周知在使用中会有个进程随着主进程的启动一同启动。这个程序会读取本地的浏览器浏览记录以及一些其他的个人隐私信息并上传到腾讯那边进行分析。具体他拿来做什么并不是很清楚，但是有一些猜测：</p>\n<ol>\n<li>反作弊相关</li>\n<li>精确探测用户画像实现精准推送</li>\n<li>与政府联合进行某些行动。</li>\n</ol>\n<p>这些年大火一直在搞如何才能防止腾讯系软件对用户信息的收集。目前的方案有如下几种：</p>\n<ol>\n<li>使用 VMware/vbox 之类的虚拟机软件来安置这些毒瘤，缺点：占用空间和性能都很多，而且启动很麻烦。</li>\n<li>使用 sandboxie 这类沙箱软件，缺点：没有 plus 版本会缺失很多功能。</li>\n<li>使用另外的机器来安置这些软件，缺点：并不是所有人都那么 rich。</li>\n<li>使用 windows 沙盒：</li>\n</ol>\n<p>windows 沙盒在正常使用的时候和普通机器并无太大区别，但是当你关闭 windows 沙盒之后里面的内容也会随之消失。本项目的目的就是在本地创建一个文件夹用来保存 windows 沙盒产生的一些文件，从而可以不用每次启动都需要重新安装这些软件。但并不能照顾到所有的文件因此还是会有一些缺陷。</p>\n<h1 id=\"注意\"><a class=\"anchor\" href=\"#注意\">#</a> 注意</h1>\n<p><strong>本项目由 <code>empty-233/tencent-sandbox</code>  克隆而来，为自己方便使用。</strong></p>\n<h1 id=\"tencent-sandbox\"><a class=\"anchor\" href=\"#tencent-sandbox\">#</a> tencent-sandbox</h1>\n<p>tencent-sandbox 是使用 <a href=\"https://learn.microsoft.com/zh-cn/windows/security/application-security/application-isolation/windows-sandbox/windows-sandbox-overview\">Windows sandbox</a> 为腾讯全家桶创建沙盒的配置</p>\n<h1 id=\"chinaflavor-sandbox\"><a class=\"anchor\" href=\"#chinaflavor-sandbox\">#</a> Chinaflavor-sandbox</h1>\n<p><a href=\"https://github.com/maxshiro/Chinaflavor-sandbox\">Chinaflavor-sandbox</a> 是由 <code>tencent-sandbox</code>  个人定制而来，添加了腾讯文档，腾讯会议以及钉钉。</p>\n<h2 id=\"注意事项\"><a class=\"anchor\" href=\"#注意事项\">#</a> 注意事项</h2>\n<p><strong>Windows 10 不支持相对路径</strong>，请把 <strong>Tencent.wsb</strong> 中的路径替换成<strong>绝对路径</strong></p>\n<h2 id=\"兼容性\"><a class=\"anchor\" href=\"#兼容性\">#</a> 兼容性</h2>\n<p>目前测试 <strong>微信</strong> <strong>QQ</strong> <strong>QQNT</strong> <strong>TIM</strong> <strong>企业微信</strong> 正常使用，其他未测试</p>\n<p>注: <strong>企业微信无法自动登录 (检查设备)，只能每次重新登录</strong></p>\n<p>默认分配<strong> 2gb</strong> 内存，有需要可以自行修改  <code>&lt;MemoryInMB&gt;2048&lt;/MemoryInMB&gt;</code></p>\n<h2 id=\"使用教程\"><a class=\"anchor\" href=\"#使用教程\">#</a> 使用教程</h2>\n<h3 id=\"如何启用windows沙盒\"><a class=\"anchor\" href=\"#如何启用windows沙盒\">#</a> 如何启用 windows 沙盒？</h3>\n<p><strong>注意：请确保您的 Windows 系统在 Win10 以上，以及 Windows 沙盒功能不适用于 Windows 10/11 家庭版。您可以使用 <code>winver</code>  命令来检查系统版本。</strong></p>\n<ol>\n<li>按下 <code>Win + R</code>  键，打开 “运行” 对话框，然后输入 <code>control</code>  并按 <code>Enter</code>  键，这将打开控制面板。</li>\n<li>在控制面板中，将查看到若干个选项类别。请找到并点击 “程序” 菜单。</li>\n<li>在 “程序” 菜单下，您将看到一个名为 “启用或关闭 Windows 功能” 的链接。请点击它，这将打开一个名为 “Windows 功能” 的窗口。</li>\n<li>在 “Windows 功能” 窗口中，您将看到一个列表，其中包含了可启用或禁用的 Windows 功能。请在列表中找到 “Windows 沙盒” 选项，并确保其复选框被勾选上。</li>\n<li>在勾选了 “Windows 沙盒” 选项后，点击 “确定” 按钮。Windows 将开始应用更改，这可能需要一些时间。完成后，您将看到一个提示，要求您重启计算机，以使更改生效。请点击 “是”，让系统重启。</li>\n<li>当您的计算机重新启动后，按下 <code>Win + S</code>  键，打开 Windows 搜索功能。在搜索栏中输入 “Windows 沙盒”，然后点击出现的 “Windows 沙盒” 应用程序。</li>\n<li>点击 “Windows 沙盒” 应用程序后，Windows 沙盒将开始初始化。稍等片刻，您将看到一个新的桌面环境弹出，类似于一个干净的 Windows 桌面。这表示 Windows 沙盒已经成功启动。</li>\n</ol>\n<h3 id=\"clone本项目到任意目录\"><a class=\"anchor\" href=\"#clone本项目到任意目录\">#</a> Clone 本项目到任意目录</h3>\n<figure class=\"highlight bash\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/maxshiro/Chinaflavor-sandbox.git</span><br></pre></td></tr></tbody></table></figure>\n<h3 id=\"创建空文件夹目录结构\"><a class=\"anchor\" href=\"#创建空文件夹目录结构\">#</a> 创建空文件夹目录结构</h3>\n<p>双击根目录中的 <code>mkdir.bat</code>  一键创建以下目录结构。</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">├───App</span><br><span class=\"line\">│   ├───DingDing</span><br><span class=\"line\">│   ├───Docs</span><br><span class=\"line\">│   ├───Meeting</span><br><span class=\"line\">│   ├───QQ</span><br><span class=\"line\">│   ├───QQNT</span><br><span class=\"line\">│   ├───TIM</span><br><span class=\"line\">│   ├───WeChat</span><br><span class=\"line\">│   └───WXWork</span><br><span class=\"line\">├───Data</span><br><span class=\"line\">│   ├───Common Files</span><br><span class=\"line\">│   ├───Documents</span><br><span class=\"line\">│   │   ├───Tencent</span><br><span class=\"line\">│   │   ├───WeChat</span><br><span class=\"line\">│   │   └───WXWork</span><br><span class=\"line\">│   ├───Roaming</span><br><span class=\"line\">│   │   ├───DingTalk</span><br><span class=\"line\">│   │   ├───Tencent</span><br><span class=\"line\">│   │   ├───WeChat</span><br><span class=\"line\">│   │   └───WXWork</span><br><span class=\"line\">│   └───SysWOW64</span><br><span class=\"line\">├───Desktop</span><br><span class=\"line\">└───Scripts</span><br></pre></td></tr></tbody></table></figure>\n<h3 id=\"安装配置沙盒\"><a class=\"anchor\" href=\"#安装配置沙盒\">#</a> 安装配置沙盒</h3>\n<ol>\n<li>\n<p>在沙盒内正确安装需要的软件，正常安装 <strong>QQ/QQNT/Wechat/Dingtalk</strong>。</p>\n</li>\n<li>\n<p>安装完成之后复制沙盒内的  <code>C:\\Windows\\SysWOW64</code>  目录下所有文件到 Clone 下来的  <code>Data\\SysWOW64</code>  目录内 (不然 qq 运行一段时间后会崩溃)，并关闭沙盒。</p>\n</li>\n<li>\n<p>打开 <strong>Tencent.wsb</strong>，继续安装列出来的软件。</p>\n</li>\n<li>\n<p>移动桌面快捷方式到任何位置，再移动回桌面 (否则快捷方式会消失)。</p>\n</li>\n</ol>\n<p>操作完成后就可以正常使用了，不确保账号数据会保留。</p>\n<h3 id=\"自定义\"><a class=\"anchor\" href=\"#自定义\">#</a> 自定义</h3>\n<p>如果你想要自定义添加的软件，可以参考我提供的思路：</p>\n<ol>\n<li>\n<p>沙盒内正常安装你需要的软件到默认目录下（随便）, 然后复制这个目录的路径。</p>\n</li>\n<li>\n<p>可以到下面的几个目录内看看你装的软件是否创建了其他目录：</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\Users\\WDAGUtilityAccount\\Documents\\</span><br><span class=\"line\">C:\\Users\\WDAGUtilityAccount\\AppData\\Roaming\\</span><br><span class=\"line\">C:\\Program Files (x86)\\Common Files</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li>\n<p>使用任意文本编辑器打开 <strong>Tencent.wsb</strong> 这个文件就能看到这个沙盒是如何工作的。（大概意思就是把配置过的目录映射到虚拟机里）</p>\n</li>\n<li>\n<p>找到对应的 <code>&lt;!-- Common Files --&gt;</code> , <code>&lt;!-- App --&gt;</code> , <code>&lt;!-- Documents --&gt;</code> , <code>&lt;!-- Common Files --&gt;</code> , <code>&lt;!-- ProgramData --&gt;</code>  注释标签，在对应位是添加你要映射的目录：</p>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 以钉钉为例：</span><br><span class=\"line\">&lt;!-- App --&gt;</span><br><span class=\"line\"># 在这个标签下添加这些内容</span><br><span class=\"line\">&lt;MappedFolder&gt;</span><br><span class=\"line\">\t&lt;HostFolder&gt;.\\App\\DingDing&lt;/HostFolder&gt; # HostFolder 本机位置</span><br><span class=\"line\">\t&lt;SandboxFolder&gt;C:\\Program Files (x86)\\DingDing&lt;/SandboxFolder&gt; # SandboxFolder 沙箱内位置</span><br><span class=\"line\">\t&lt;ReadOnly&gt;false&lt;/ReadOnly&gt; # ReadOnly 是否只读</span><br><span class=\"line\">&lt;/MappedFolder&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!-- Roaming --&gt;</span><br><span class=\"line\">&lt;MappedFolder&gt;</span><br><span class=\"line\">\t&lt;HostFolder&gt;.\\Data\\Roaming\\DingTalk&lt;/HostFolder&gt;</span><br><span class=\"line\">\t&lt;SandboxFolder&gt;C:\\Users\\WDAGUtilityAccount\\AppData\\Roaming\\DingTalk&lt;/SandboxFolder&gt;</span><br><span class=\"line\">\t&lt;ReadOnly&gt;false&lt;/ReadOnly&gt;</span><br><span class=\"line\">&lt;/MappedFolder&gt;</span><br></pre></td></tr></tbody></table></figure>\n</li>\n<li>\n<p>在主机 Data 目录下创建上面 HostFolder 编写的目录位置。</p>\n</li>\n<li>\n<p>关闭虚拟机，重新打开并再次正常安装（注意安装位置要和你自己上面填的目录保持一致），按照第一次的方式再次拷贝快捷方式并恢复。</p>\n</li>\n<li>\n<p>其余的参考文件内的内容自行修改。</p>\n</li>\n</ol>\n<h2 id=\"挂载路径\"><a class=\"anchor\" href=\"#挂载路径\">#</a> 挂载路径</h2>\n<figure class=\"highlight text\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">桌面 -&gt; Desktop</span><br><span class=\"line\">C:\\Program Files (x86)\\Common Files -&gt; Data\\Common Files</span><br><span class=\"line\">C:\\Users\\WDAGUtilityAccount\\Documents\\Tencent Files -&gt; Data\\Documents\\Tencent</span><br><span class=\"line\">C:\\Users\\WDAGUtilityAccount\\Documents\\WeChat Files -&gt; Data\\Documents\\WeChat</span><br><span class=\"line\">C:\\Users\\WDAGUtilityAccount\\Documents\\WXWork -&gt; Data\\Documents\\WXWork</span><br><span class=\"line\"></span><br><span class=\"line\">其余的请查看 Tencent.wsb 中的 MappedFolder</span><br></pre></td></tr></tbody></table></figure>\n",
            "tags": [
                "windows",
                "qq",
                "sandbox",
                "tencent"
            ]
        },
        {
            "id": "http://maxshiroi.top/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/002945/",
            "url": "http://maxshiroi.top/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/002945/",
            "title": "常用Windows应急响应整理",
            "date_published": "2023-07-02T16:29:45.000Z",
            "content_html": "<h1 id=\"windows相关\"><a class=\"anchor\" href=\"#windows相关\">#</a> Windows 相关</h1>\n<h2 id=\"常用程序\"><a class=\"anchor\" href=\"#常用程序\">#</a> 常用程序</h2>\n<blockquote>\n<p>小心被病毒整蛊，记住下面命令：</p>\n</blockquote>\n<ul>\n<li>\n<p><code>regedit</code> ：注册表编辑器，用于管理 Windows 系统的注册表，可以查看、编辑和修改注册表中的配置信息。</p>\n</li>\n<li>\n<p><code>Taskmgr</code> ：任务管理器，用于查看和管理系统中运行的进程、服务和性能监控等。</p>\n</li>\n<li>\n<p><code>msconfig</code> ：系统配置实用程序，用于管理 Windows 启动时的启动项、服务和引导选项，可以进行系统启动项的配置和管理。</p>\n</li>\n<li>\n<p><code>eventvwr.msc</code> ：事件查看器，用于查看和分析系统和应用程序生成的事件日志，帮助诊断和解决系统问题。</p>\n</li>\n<li>\n<p><code>compmgmt.msc</code> ：计算机管理控制台，提供了对计算机硬件、设备管理、本地用户和组管理、磁盘管理等的集中管理。</p>\n</li>\n<li>\n<p><code>gpedit.msc</code> ：组策略编辑器，用于管理 Windows 系统中的组策略，可以配置计算机和用户的策略设置。</p>\n</li>\n<li>\n<p><code>taskschd.msc</code> ：任务计划程序，用于创建和管理定时任务，可以设置计划运行的程序、脚本和操作等。</p>\n</li>\n<li>\n<p><code>lusrmgr.msc</code> ：本地用户和组管理器，用于管理本地计算机上的用户账户和用户组，可以创建、修改和删除用户账户和组。</p>\n</li>\n</ul>\n<h2 id=\"特别注意\"><a class=\"anchor\" href=\"#特别注意\">#</a> 特别注意</h2>\n<ol>\n<li>\n<p>获取本机用户列表<br>\n <code>net user</code></p>\n</li>\n<li>\n<p>管理员<br>\n <code>net localgroup administrators</code></p>\n</li>\n<li>\n<p>当前会话<br>\n <code>net session</code></p>\n</li>\n<li>\n<p>当前运行的服务<br>\n <code>net start</code></p>\n</li>\n<li>\n<p>远程连接<br>\n <code>net use</code></p>\n</li>\n<li>\n<p>当前用户共享目录<br>\n <code>net share</code></p>\n</li>\n<li>\n<p>最近打开文件</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tbody><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">%UserProfile%\\Recent</span><br><span class=\"line\">%APPDATA%\\Microsoft\\Windows\\Recent</span><br></pre></td></tr></tbody></table></figure>\n<ol start=\"8\">\n<li>查找文件中的字符串<br>\n <code>findstr /m /i /s \"hello\" *.txt</code></li>\n</ol>\n<h2 id=\"常用命令\"><a class=\"anchor\" href=\"#常用命令\">#</a> 常用命令</h2>\n<blockquote>\n<p>这些命令可用于网络连接和进程管理，获取系统信息和补丁，以及计算文件的哈希值。你可以根据需要使用它们来进行系统管理、安全检查和文件验证。</p>\n</blockquote>\n<h3 id=\"网络相关命令\"><a class=\"anchor\" href=\"#网络相关命令\">#</a> 网络相关命令</h3>\n<ul>\n<li><code>netstat -ano</code> ：显示网络连接、监听端口和进程的详细信息，包括相关的进程 ID。</li>\n</ul>\n<h3 id=\"系统信息命令\"><a class=\"anchor\" href=\"#系统信息命令\">#</a> 系统信息命令</h3>\n<ul>\n<li><code>systeminfo</code> ：显示系统的详细信息，包括操作系统版本、补丁信息、硬件配置等。特别关注补丁信息，以确保系统的安全性。</li>\n</ul>\n<h3 id=\"进程管理命令\"><a class=\"anchor\" href=\"#进程管理命令\">#</a> 进程管理命令</h3>\n<ul>\n<li>\n<p><code>Wmic process</code> ：用于查询和管理系统中的进程。</p>\n<ul>\n<li>\n<p><code>Wmic process where name=\"cmd.exe\" get processid,executablepath,name</code> ：查询并显示名称为 \"cmd.exe\" 的进程的进程 ID、可执行路径和名称。</p>\n</li>\n<li>\n<p><code>Wmic process where processid=\"***\" get executablepath,name</code> ：查询并显示指定进程 ID 的进程的可执行路径和名称。</p>\n</li>\n</ul>\n</li>\n<li>\n<p><code>tasklist /m ***.dll</code> ：显示指定 DLL 文件相关的进程列表。</p>\n</li>\n</ul>\n<h3 id=\"文件哈希计算命令\"><a class=\"anchor\" href=\"#文件哈希计算命令\">#</a> 文件哈希计算命令</h3>\n<ul>\n<li><code>certutil -hashfile %样本exe% MD5</code> ：计算指定样本文件（例如样本 exe）的 MD5 哈希值。</li>\n</ul>\n<h2 id=\"敏感目录\"><a class=\"anchor\" href=\"#敏感目录\">#</a> 敏感目录</h2>\n<blockquote>\n<p>这些敏感目录通常包含重要的系统文件、用户数据和应用程序配置文件。黑客或恶意软件可能会利用这些目录来隐藏恶意文件、执行攻击或获取敏感信息。因此，在网络安全中，对这些目录进行适当的保护和监控非常重要。</p>\n</blockquote>\n<ul>\n<li>\n<p><code>%WINDIR%</code> ：Windows 系统目录，通常为  <code>C:\\Windows</code> 。该目录包含了操作系统的核心文件和系统配置文件。</p>\n</li>\n<li>\n<p><code>%WINDIR%\\system32\\</code> ：Windows 系统目录下的  <code>system32</code>  子目录，通常为  <code>C:\\Windows\\system32</code> 。该目录包含了许多系统和应用程序的关键文件和库文件。</p>\n</li>\n<li>\n<p><code>%TEMP%</code> ：当前用户的临时文件夹路径。通常为  <code>C:\\Users\\用户名\\AppData\\Local\\Temp</code> 。临时文件夹用于存储临时文件和缓存文件。</p>\n</li>\n<li>\n<p><code>%LOCALAPPDATA%</code> ：当前用户的本地应用数据文件夹路径。通常为  <code>C:\\Users\\用户名\\AppData\\Local</code> 。该目录用于存储与用户相关的应用程序数据，如缓存文件、配置文件等。</p>\n</li>\n<li>\n<p><code>%APPDATA%</code> ：当前用户的应用数据文件夹路径。通常为  <code>C:\\Users\\用户名\\AppData\\Roaming</code> 。该目录用于存储应用程序的个人设置、配置文件和其他用户特定的数据。</p>\n</li>\n</ul>\n<h2 id=\"日志\"><a class=\"anchor\" href=\"#日志\">#</a> 日志</h2>\n<h3 id=\"事件查看器\"><a class=\"anchor\" href=\"#事件查看器\">#</a> 事件查看器</h3>\n<ul>\n<li><code>eventvwr</code> ：事件查看器，用于查看和分析系统和应用程序生成的事件日志。</li>\n</ul>\n<h3 id=\"事件日志路径\"><a class=\"anchor\" href=\"#事件日志路径\">#</a> 事件日志路径</h3>\n<ul>\n<li>\n<p><code>%SystemRoot%System32WinevtLogsSystem.evtx</code> ：系统日志文件路径，包含有关系统启动、关闭和其他系统级事件的信息。</p>\n</li>\n<li>\n<p><code>%SystemRoot%System32WinevtLogsSecurity.evtx</code> ：安全日志文件路径，包含有关安全相关事件的信息。</p>\n</li>\n</ul>\n<h3 id=\"系统启动关闭事件\"><a class=\"anchor\" href=\"#系统启动关闭事件\">#</a> 系统启动 / 关闭事件</h3>\n<ul>\n<li><code>系统启动/关闭 12/13</code> ：指示系统启动和关闭的事件计数。</li>\n</ul>\n<h3 id=\"事件日志服务启动关闭事件\"><a class=\"anchor\" href=\"#事件日志服务启动关闭事件\">#</a> 事件日志服务启动 / 关闭事件</h3>\n<ul>\n<li><code>事件日志服务启动/关闭 6005/6006</code> ：指示事件日志服务的启动和关闭事件计数。</li>\n</ul>\n<h3 id=\"常见事件id表\"><a class=\"anchor\" href=\"#常见事件id表\">#</a> 常见事件 ID 表：</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">事件 ID</th>\n<th style=\"text-align:center\">说明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">1102</td>\n<td style=\"text-align:center\">清理审计日志</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4624</td>\n<td style=\"text-align:center\">账号成功登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4625</td>\n<td style=\"text-align:center\">账号登录失败</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4768</td>\n<td style=\"text-align:center\">Kerberos 身份验证 (TGT 请求)</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4769</td>\n<td style=\"text-align:center\">Kerberos 服务票证请求</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4776</td>\n<td style=\"text-align:center\">NTLM 身份验证</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4672</td>\n<td style=\"text-align:center\">授予特殊权限</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4720</td>\n<td style=\"text-align:center\">创建用户</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4726</td>\n<td style=\"text-align:center\">删除用户</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4728</td>\n<td style=\"text-align:center\">将成员添加到启用安全的全局组中</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4729</td>\n<td style=\"text-align:center\">将成员从安全的全局组中移除</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4732</td>\n<td style=\"text-align:center\">将成员添加到启用安全的本地组中</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4733</td>\n<td style=\"text-align:center\">将成员从启用安全的本地组中移除</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4756</td>\n<td style=\"text-align:center\">将成员添加到启用安全的通用组中</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4757</td>\n<td style=\"text-align:center\">将成员从启用安全的通用组中移除</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4719</td>\n<td style=\"text-align:center\">系统审计策略修改</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"常见-logontype-值\"><a class=\"anchor\" href=\"#常见-logontype-值\">#</a> 常见 LogonType 值</h3>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">LogonType 值</th>\n<th style=\"text-align:center\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">交互式登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">网络登录（一般情况下就是永恒之蓝）</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">4</td>\n<td style=\"text-align:center\">批处理登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:center\">服务登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">7</td>\n<td style=\"text-align:center\">解锁</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">8</td>\n<td style=\"text-align:center\">网络远程登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">9</td>\n<td style=\"text-align:center\">缓存的远程登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">10</td>\n<td style=\"text-align:center\">远程交互式登录</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">...</td>\n<td style=\"text-align:center\">...</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"应急工具\"><a class=\"anchor\" href=\"#应急工具\">#</a> 应急工具</h2>\n<p>下面是一些应急工具的示例和相关信息：</p>\n<ul>\n<li>\n<p><strong>PChunter</strong>：Antirootkit 工具，用于检测和清除系统中的 rootkit（恶意软件）。</p>\n</li>\n<li>\n<p><strong>Autoruns</strong>：启动项管理工具，用于查看和管理系统启动时自动运行的程序、服务和驱动程序。</p>\n</li>\n<li>\n<p><strong>ProcessExplorer</strong>：进程查看工具，提供了比任务管理器更详细和全面的进程信息，包括进程的资源使用、文件关联等。</p>\n</li>\n<li>\n<p><strong>ProcessMonitor</strong>：进程监控工具，用于实时监视和记录系统上的进程活动、文件系统活动和注册表活动。</p>\n</li>\n<li>\n<p><strong>TCPView</strong>：网络连接查看工具，显示当前系统上的网络连接和相关的进程信息，可用于监视和分析网络连接。</p>\n</li>\n<li>\n<p><strong>Microsoft Network Monitor</strong>：网络监控工具，可用于捕获和分析网络数据包，提供详细的网络通信信息和相关的进程。</p>\n</li>\n<li>\n<p><strong>D 盾</strong>：Webshell 查杀工具，用于检测和清除 Web 服务器上的恶意 Webshell（恶意脚本）。</p>\n</li>\n<li>\n<p><strong>Everything</strong>：快速搜索工具，可以快速索引和搜索系统上的文件和文件夹。</p>\n</li>\n<li>\n<p><strong>BeaconEye</strong>：针对 Cobalt Strike（一种渗透测试工具）的特征检测工具。可在 GitHub 上找到该工具，地址为: <a href=\"https://github.com/CCob/BeaconEye\">CCob/BeaconEye</a>。</p>\n</li>\n</ul>\n<h2 id=\"威胁情报样本分析平台\"><a class=\"anchor\" href=\"#威胁情报样本分析平台\">#</a> 威胁情报 / 样本分析平台：</h2>\n<p>奇安信威胁情报中心<br>\n微步在线社区<br>\n Virus total<br>\nIBMXFORCE</p>\n<h2 id=\"sysmonsystem-monitor在事件查看器中查看\"><a class=\"anchor\" href=\"#sysmonsystem-monitor在事件查看器中查看\">#</a> Sysmon（System Monitor）（在事件查看器中查看）</h2>\n<p>Sysmon 可以监控并记录操作系统内核级别的事件，包括进程创建、文件创建、网络连接、注册表操作、服务启动、驱动加载等等。这些事件的详细信息被记录在 Windows 事件日志中，可以通过事件查看器或其他日志分析工具进行检索和分析。</p>\n<table>\n<thead>\n<tr>\n<th>事件 ID</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>进程创建</td>\n</tr>\n<tr>\n<td>3</td>\n<td>网络连接</td>\n</tr>\n<tr>\n<td>11</td>\n<td>文件创建</td>\n</tr>\n<tr>\n<td>22</td>\n<td>记录 DNS 查询</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"内存取证\"><a class=\"anchor\" href=\"#内存取证\">#</a> 内存取证</h2>\n<p>Dumplt / FTK imager / WinPMem</p>\n<h3 id=\"分析\"><a class=\"anchor\" href=\"#分析\">#</a> 分析</h3>\n<p>Volatility (github: volatilityfoundation/volatility)<br>\n volatility -f [内存文件] --profile=[配置文件] &lt; 插件 &gt; # 不同版本有不同的配置文件</p>\n<h1 id=\"案例\"><a class=\"anchor\" href=\"#案例\">#</a> 案例</h1>\n",
            "tags": [
                "hvv",
                "应急响应",
                "tools",
                "windows"
            ]
        }
    ]
}